# Настройка Gemini API

## Установка API ключа

Для работы с Gemini API необходимо настроить API ключ:

### 1. Получение API ключа
1. Перейдите на [Google AI Studio](https://aistudio.google.com/)
2. Войдите в аккаунт Google
3. Создайте новый API ключ
4. Скопируйте полученный ключ

### 2. Настройка переменной окружения

**Если у вас уже есть `.env` файл с `GEMINI_API`:**

Ваш существующий ключ уже будет работать! Система теперь использует серверный API endpoint, который может читать обычные переменные окружения без префикса `NEXT_PUBLIC_`.

```bash
# Ваш существующий .env файл:
GEMINI_API="AIzaS....."
```

**Или создайте файл `.env.local`:**

```bash
GEMINI_API=your_actual_api_key_here
```

**Важно:** 
- Теперь используется обычная переменная `GEMINI_API` (без префикса `NEXT_PUBLIC_`)
- Замените `your_actual_api_key_here` на ваш реальный API ключ
- После изменения переменной перезапустите сервер разработки

### 3. Безопасность

- API ключ теперь остается на сервере и не передается в браузер
- Файлы `.env` и `.env.local` уже добавлены в `.gitignore`
- Никогда не коммитьте API ключи в репозиторий

## Возможности

✅ **Полная интеграция с чатом**
- Отправка сообщений через Gemini API
- Сохранение контекста беседы
- Поддержка истории сообщений

✅ **UX улучшения**
- Индикатор "печатает..." во время ответа
- Обработка ошибок API
- Автоматическое создание новых бесед

✅ **Готово к использованию**
- Просто добавьте API ключ и начинайте тестировать
- Полнофункциональная система чата с AI

## Тестирование

После настройки API ключа:
1. Запустите проект: `npm run dev`
2. Откройте страницу `/chat`
3. Создайте новую беседу или используйте существующую
4. Начните общение с AI

## Модель

Используется модель: `gemini-2.0-flash-exp`
- Быстрые ответы
- Поддержка контекста
- Высокое качество генерации
